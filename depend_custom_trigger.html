<html>
    <head>
        <script src="mootools-core-1.3-full-nocompat.js">
        </script>
        <script src="dependency.js">
        </script>
    </head>
    <body>
        firstSelect
        <select id="firstSelect">
            <option value="1">foo</option>
            <option value="2">bar</option>
            <option value="3">baz</option>
        </select>
        firstText
        <input id="firstText" type="text" value="will change if baz selected" />
        <script>
            // First select, when given value "2", will log a string to console,
            // and logs another string one when the select is given other value.
            var depSelectToText = new DependencyManager();
            depSelectToText.createDependency(
                firstSelect,
                firstText,
                {
                    'affect': function(slave) {
                        slave._field.set('value', 'choose foo or bar to change back'); 
                    },
                    'unaffect': function(slave) {
                        slave._field.set('value', 'will change if baz selected'); 
                    }
                },
                function(master) {
                    return '3';
                });

        </script>
    </body>
</html>
